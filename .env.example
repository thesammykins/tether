# Required
DISCORD_BOT_TOKEN=your-bot-token-here

# Optional - Redis connection
REDIS_HOST=localhost
REDIS_PORT=6379

# Optional - Agent configuration
AGENT_TYPE=claude
# Options: claude, opencode, codex

# Optional - Working directory for agent sessions
CLAUDE_WORKING_DIR=/path/to/your/project

# Optional - HTTP API server configuration
TETHER_API_HOST=127.0.0.1
# Bind address for the HTTP API server (default: 127.0.0.1)
# Use 0.0.0.0 to allow external connections

TETHER_API_PORT=2643
# Port for the HTTP API server (default: 2643)

API_TOKEN=
# Optional - API authentication token
# If set, all API requests (except /health) must include:
# Authorization: Bearer <token>
# If not set, no authentication is required (backward compatible)

# Optional - Direct Messages (disabled by default)
ENABLE_DMS=false
# Set to "true" to allow the bot to respond to DMs.
# When enabled, users can message the bot directly without @mentioning.
# DM sessions persist per-user. Send "!reset" in DMs to start a new session.

# Optional - Allowlist (empty = allow all)
ALLOWED_USERS=
# Comma-separated Discord user IDs (e.g., 123456789,987654321)
# In DMs, only this list is checked (roles/channels don't apply)

ALLOWED_ROLES=
# Comma-separated Discord role IDs (guild only, ignored in DMs)

ALLOWED_CHANNELS=
# Comma-separated Discord channel IDs (guild only, ignored in DMs)

# Optional - Rate limiting
RATE_LIMIT_REQUESTS=5
RATE_LIMIT_WINDOW_MS=60000

# Optional - Session limits
MAX_TURNS_PER_SESSION=50
MAX_SESSION_DURATION_MS=3600000

# Optional - Database
DB_PATH=./data/threads.db

# Optional - Timezone for datetime injection
TZ=America/New_York
