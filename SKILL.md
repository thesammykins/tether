---
name: cord
description: Send messages, files, embeds, and buttons to Discord via Cord's HTTP API. Use for notifications, reports, interactive choices, and dynamic Discord interactions.
triggers:
  - "send to discord"
  - "post to discord"
  - "discord message"
  - "notify discord"
---

# Cord - Discord Bridge Skill

## Overview

Interact with Discord through Cord's HTTP API (default port 2643). This skill teaches Claude Code how to use the local Cord bot for Discord messaging, embeds, file attachments, and interactive buttons.

**GitHub:** https://github.com/alexknowshtml/cord

## Setup

Ensure Cord is running:
```bash
cord start
# or: bun run src/bot.ts
```

## Primitives

### send-message

Send a simple text message to a channel or thread.

```bash
curl -s -X POST http://localhost:2643/command \
  -H 'Content-Type: application/json' \
  -d '{
    "command": "send-to-thread",
    "args": {
      "thread": "CHANNEL_OR_THREAD_ID",
      "message": "Hello from Cord!"
    }
  }'
```

**Response:** `{"success":true,"messageId":"1234567890"}`

### send-embed

Send a formatted embed card with optional fields.

```bash
curl -s -X POST http://localhost:2643/command \
  -H 'Content-Type: application/json' \
  -d '{
    "command": "send-to-thread",
    "args": {
      "thread": "CHANNEL_OR_THREAD_ID",
      "embeds": [{
        "title": "Status Report",
        "description": "Daily summary",
        "color": 3447003,
        "fields": [
          {"name": "Tasks", "value": "5 completed", "inline": true},
          {"name": "Emails", "value": "12 processed", "inline": true}
        ],
        "footer": {"text": "Generated by Cord"}
      }]
    }
  }'
```

**Color reference:**
- Success/Green: `3066993` (0x2ECC71)
- Info/Blue: `3447003` (0x3498DB)
- Warning/Yellow: `16776960` (0xFFFF00)
- Error/Red: `15158332` (0xE74C3C)
- Purple: `10181046` (0x9B59B6)

### send-file

Attach content as a file (good for long reports).

```bash
curl -s -X POST http://localhost:2643/send-with-file \
  -H 'Content-Type: application/json' \
  -d '{
    "channelId": "CHANNEL_OR_THREAD_ID",
    "fileName": "report.md",
    "fileContent": "# Report\n\nContent here...",
    "content": "Here is the detailed report"
  }'
```

### send-buttons

Send a message with interactive button choices.

```bash
curl -s -X POST http://localhost:2643/send-with-buttons \
  -H 'Content-Type: application/json' \
  -d '{
    "channelId": "CHANNEL_OR_THREAD_ID",
    "content": "Choose an option:",
    "buttons": [
      {"label": "Approve", "customId": "approve-123", "style": "success"},
      {"label": "Reject", "customId": "reject-123", "style": "danger"}
    ]
  }'
```

**Button styles:** `primary`, `secondary`, `success`, `danger`

### send-buttons with inline handler

Register a handler that fires when the button is clicked.

```bash
curl -s -X POST http://localhost:2643/command \
  -H 'Content-Type: application/json' \
  -d '{
    "command": "send-to-thread",
    "args": {
      "thread": "CHANNEL_OR_THREAD_ID",
      "message": "Click for details",
      "buttons": [{
        "label": "Show Details",
        "customId": "details-123",
        "style": "secondary",
        "handler": {
          "type": "inline",
          "content": "Here are the details...",
          "ephemeral": true
        }
      }]
    }
  }'
```

### typing

Show typing indicator (useful before slow operations).

```bash
curl -s -X POST http://localhost:2643/command \
  -H 'Content-Type: application/json' \
  -d '{
    "command": "start-typing",
    "args": {"channel": "CHANNEL_OR_THREAD_ID"}
  }'
```

### edit-message

Edit an existing message.

```bash
curl -s -X POST http://localhost:2643/command \
  -H 'Content-Type: application/json' \
  -d '{
    "command": "edit-message",
    "args": {
      "channel": "CHANNEL_ID",
      "message": "MESSAGE_ID",
      "content": "Updated content"
    }
  }'
```

### delete-message

Delete a message.

```bash
curl -s -X POST http://localhost:2643/command \
  -H 'Content-Type: application/json' \
  -d '{
    "command": "delete-message",
    "args": {
      "channel": "CHANNEL_ID",
      "message": "MESSAGE_ID"
    }
  }'
```

### rename-thread

Rename a thread.

```bash
curl -s -X POST http://localhost:2643/command \
  -H 'Content-Type: application/json' \
  -d '{
    "command": "rename-thread",
    "args": {
      "thread": "THREAD_ID",
      "name": "New Thread Name"
    }
  }'
```

## Usage Examples

### Post a notification

```bash
curl -s -X POST http://localhost:2643/command \
  -H 'Content-Type: application/json' \
  -d '{
    "command": "send-to-thread",
    "args": {
      "thread": "YOUR_CHANNEL_ID",
      "embeds": [{
        "title": "Deploy Complete",
        "description": "Production deployment finished successfully",
        "color": 3066993
      }]
    }
  }'
```

### Send a file attachment

```bash
curl -s -X POST http://localhost:2643/send-with-file \
  -H 'Content-Type: application/json' \
  -d '{
    "channelId": "YOUR_CHANNEL_ID",
    "fileName": "weekly-report.md",
    "fileContent": "# Weekly Report\n\nContent here...",
    "content": "Weekly report attached"
  }'
```

### Ask for confirmation with buttons

```bash
curl -s -X POST http://localhost:2643/send-with-buttons \
  -H 'Content-Type: application/json' \
  -d '{
    "channelId": "YOUR_CHANNEL_ID",
    "content": "Ready to proceed?",
    "buttons": [
      {"label": "Yes", "customId": "confirm-action", "style": "success"},
      {"label": "No", "customId": "cancel-action", "style": "secondary"}
    ]
  }'
```

## Health Check

Verify Cord is running:

```bash
curl -s http://localhost:2643/health
# {"status":"ok","connected":true,"user":"YourBot#1234"}
```

## Troubleshooting

**"Connection refused"** - Cord bot not running
```bash
cord status
cord start
```

**"Thread not found"** - Invalid channel/thread ID or bot doesn't have access

**Button shows "expired"** - Handler was never registered or bot restarted since registration

## Installation

To use this skill with Claude Code:

1. Copy this file to your `.claude/skills/cord/SKILL.md`
2. Or reference it directly from the Cord repo

Claude Code will automatically detect the skill and use it when you ask to send Discord messages.
